!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-search-bar"]=e():t["vue-search-bar"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=1)}([function(t,e,i){"use strict";e.a={props:{thumb:String,full:String,radius:Number,onSearch:{type:Function,required:!0,default:function(){}},onChange:{type:Function,required:!1,default:function(){}}},data:function(){return{loaded:!1,appearedDialog:!1,fullWidth:0,fullHeight:0,keyword:"",showCancle:!1}},created:function(){this.fullWidth=window.screen.width,this.fullHeight=window.screen.height},mounted:function(){},methods:{onInput:function(t){this.onChange(t.target.value)},submitForm:function(){this.keyword.length>0?(this.appearedDialog=!1,this.onSearch(this.keyword)):this.hideDialog()},getImgNaturalDimensions:function(t,e){var i,n;if(t.naturalWidth){var a=new Image;a.onload=function(){var t=a.width,i=a.height;e({w:t,h:i})},a.src=t.src}else i=t.naturalWidth,n=t.naturalHeight,e({w:i,h:n})},getEleNaturalDimensions:function(t,e){var i,n;i=t.offsetWidth,n=t.offsetHeight,e({w:i,h:n})},showDialog:function(){var t=this,e=this.$refs.thumb;this.getEleNaturalDimensions(e,function(e){e.w>e.h?t.fullHeight=e.h/e.w*t.fullWidth:t.fullWidth=e.w/e.h*t.fullHeight,t.maxWidth&&t.maxWidth>0&&t.fullWidth>t.maxWidth&&(t.fullWidth=t.maxWidth,t.fullHeight=e.h/e.w*t.fullWidth),t.maxHeight&&t.maxHeight>0&&t.fullHeight>t.maxHeight&&(t.fullHeight=t.maxHeight,t.fullWidth=e.w/e.h*t.fullHeight)}),this.appearedDialog=!0},hideDialog:function(){this.appearedDialog=!1},enter:function(){var t=this;this.animateImage(this.$refs.thumb,this.$refs.full,this.$refs.cancleBtn,1),setTimeout(function(){t.loaded=!0},600)},leave:function(){this.animateImage(this.$refs.full,this.$refs.thumb,this.$refs.cancleBtn,0),this.loaded=!1},onLoadFull:function(){this.loaded=!0},animateImage:function(t,e,i,n){var a=this,o=this.getBoundForDialog(t);this.setStart(o);var s=this.getBoundForDialog(i);this.$nextTick(function(){var t=a.getBoundForDialog(e);a.setDestination(o,{top:t.top,left:t.left,width:t.width||a.fullWidth,height:t.height||a.fullHeight},s,n)})},getBoundForDialog:function(t){var e=t.getBoundingClientRect(),i=this.$refs.dialog;return{top:e.top+i.scrollTop,left:e.left+i.scrollLeft,width:e.width,height:e.height}},setStart:function(t){var e=this.$refs.animate;e.style.left=t.left+"px",e.style.top=t.top+"px",e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.transitionDuration="0s",e.style.transform=""},setDestination:function(t,e,i,n){var a=this.$refs.animate;a.style.transitionDuration="",1==n&&(e.width=e.width-i.width);var o="translate("+(e.left-t.left)+"px, "+(e.top-t.top)+"px)",s="scale("+e.width/t.width+", "+e.height/t.height+")";a.style.transform=o+" "+s}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2);i.d(e,"SearchBar",function(){return n.a})},function(t,e,i){"use strict";var n=i(3),a={install:function(t){t.component("search-bar",n.a)}};e.a=a},function(t,e,i){"use strict";function n(t){i(4)}var a=i(0),o=i(6),s=i(5),r=n,l=s(a.a,o.a,!1,r,"data-v-72ab27f7",null);e.a=l.exports},function(t,e){},function(t,e){t.exports=function(t,e,i,n,a,o){var s,r=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,r=t.default);var u="function"==typeof r?r.options:r;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),a&&(u._scopeId=a);var c;if(o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):n&&(c=n),c){var d=u.functional,h=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(t,e){return c.call(e),h(t,e)}):u.beforeCreate=h?[].concat(h,c):[c]}return{esModule:s,exports:r,options:u}}},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-dialog"},[i("div",{staticClass:"image-dialog-trigger",attrs:{type:"button"},on:{click:t.showDialog}},[i("div",{ref:"thumb",staticClass:"input-wrapper"},[t._m(0)])]),t._v(" "),i("transition",{attrs:{name:"dialog"},on:{enter:t.enter,leave:t.leave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.appearedDialog,expression:"appearedDialog"}],ref:"dialog",staticClass:"image-dialog-background"},[t._e(),t._v(" "),i("div",{ref:"animate",staticClass:"input-wrapper image-dialog-animate"},[i("div",{staticClass:"input"},[i("i",{staticClass:"iconfont icon-search1187938easyiconnet"}),t._v(" "),i("span",{staticClass:"palceholder"},[t._v("名称/单号/库房")])])]),t._v(" "),i("div",{ref:"full",staticClass:"input-wrapper image-dialog-full",on:{load:t.onLoadFull}},[i("div",{staticClass:"input"},[i("i",{staticClass:"iconfont icon-search1187938easyiconnet"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"palceholder",attrs:{placeholder:"名称/单号/库房"},domProps:{value:t.keyword},on:{input:[function(e){e.target.composing||(t.keyword=e.target.value)},t.onInput]}}),t._v(" "),i("i",{staticClass:"iconfont icon-close1",on:{click:function(){t.keyword=""}}})]),t._v(" "),i("div",{ref:"cancleBtn",staticClass:"cancle-btn",on:{click:t.submitForm}},[t._v("\n              "+t._s(t.keyword.length>0?"搜索":"取消")+"\n          ")])]),t._v(" "),i("div",{staticClass:"slot-content",class:t.loaded?"visible":""},[t._t("default")],2)])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input"},[i("i",{staticClass:"iconfont icon-search1187938easyiconnet"}),t._v(" "),i("span",{staticClass:"palceholder"},[t._v("名称/单号/库房")])])}],o={render:n,staticRenderFns:a};e.a=o}])});